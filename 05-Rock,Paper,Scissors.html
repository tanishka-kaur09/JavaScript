<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock, paper and scissors game</title>
</head>
<body>
  <button onclick="play('rock');">ROCK</button>

  <button onclick="play('paper');">PAPER</button>

  <button onclick="play('scissor');">SCISSORS</button>

  <button onclick="reset();">RESET SCORE</button>

  <script>
    let score=JSON.parse(localStorage.getItem('score'))||{
        wins: 0,
        losses: 0,
        ties: 0
      };
    let comp='';

    function play(you){
      compmove();
      let result='';
      if(you==='scissor'){
        if(comp==='scissor')
          result='Its tie';
        else if(comp==='rock')
          result='You lose';
        else
          result='You win';
      }
      else if(you==='rock'){
        if(comp==='rock')
          result='Its tie';
        else if(comp==='paper')
          result='You lose';
        else
          result='You win';
      }
      else if(you==='paper'){
        if(comp==='paper')
          result='Its tie';
        else if(comp==='scissor')
          result='You lose';
        else
          result='You win';
      }


      if(result==='Its tie')
        score.ties++;
      else if(result==='You win')
        score.wins+=1;
      else if(result==='You lose')
        score.losses+=1;

      localStorage.setItem('score',JSON.stringify(score));
      
      alert(`You chose ${you}, computer chose ${comp}, ${result}
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);

    }

    function compmove(){
      let rand=Math.random();  //gives float value between 0 & 1
      if(rand>=0&&rand<1/3)
        comp='rock';
      else if(rand>=1/3&&rand<2/3)
        comp='paper';
      else if(rand>=2/3&&rand<=1)
        comp='scissor';
      return comp;
    }

    function reset(){
      score.wins=0;
      score.losses=0;
      score.ties=0;
      localStorage.removeItem('score');
    }
    
  </script>
</body>
</html>